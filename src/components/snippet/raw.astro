---
import { read_lines_in_range } from '~/utils/files.ts'

let code = ''

try {
    if (Astro?.props.file && Astro.props.line_start &&
        Astro.props.line_end) {
        code = await read_lines_in_range(Astro?.props.file,
            Astro.props?.line_start, Astro.props?.line_end)
    }
} catch (err) {
    console.error(`Error reading file: ${err.message}`) // Handle potential errors
}
---
<div set:html={code.replace(Astro.props.spaces ? Astro.props.spaces : '', '')} is:raw />